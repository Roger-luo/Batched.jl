using CUDAapi

const config_path = joinpath(@__DIR__, "ext.jl")

function main()
    libcuda_path = find_cuda_library("cuda", find_toolkit())
    if libcuda_path === nothing
        open(config_path, "w") do io
            println(io, "# autogenerated file, do not edit")
            println(io, "const USE_CUDA = false")
        end
    else
        open(config_path, "w") do io
            println(io, "# autogenerated file, do not edit")
            println(io, "const USE_CUDA = true")
        end
    end
end

main()
